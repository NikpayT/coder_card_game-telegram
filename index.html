<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SQL Code Collector Game</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* ... (—Å—Ç–∏–ª–∏ –¥–ª—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Å—Ç–∞—é—Ç—Å—è –∑–¥–µ—Å—å) ... */
        .query-constructor-container { /* ... */ }
        .query-task-list { /* ... */ }
        /* ... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ ... */
        .feedback-error { /* ... */ }
        .input-group { /* ... */ }

        /* –ù–û–í–û–ï: –°—Ç–∏–ª–∏ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –°–£–ë–î */
        #currentDbDisplay {
            font-size: var(--font-size-small);
            color: var(--light-text-color);
            margin-top: 8px;
            text-align: center; /* –∏–ª–∏ flex-start –µ—Å–ª–∏ –≤ header-left */
        }
        .small-utility-button {
            padding: 3px 8px;
            font-size: 0.75em;
            margin-left: 8px;
            background: var(--border-color); /* –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç */
            color: var(--text-color);
            box-shadow: none;
        }
        .small-utility-button:hover {
            background: #5a6270;
        }
        #dbTypeSelectorPanel .list-item.db-type-item { /* –°—Ç–∏–ª–∏ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ —Å–ø–∏—Å–∫–µ –°–£–ë–î */
            cursor: default; /* –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ, —Ç–æ–ª—å–∫–æ –∫–Ω–æ–ø–∫–∞ –≤–Ω—É—Ç—Ä–∏ */
        }
        #dbTypeSelectorPanel .list-item.db-type-item.active {
            border-left: 4px solid var(--primary-color);
        }
        #dbTypeSelectorPanel .list-item.db-type-item button {
            width: auto; /* –ö–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ –°–£–ë–î –Ω–µ –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É */
            padding: 8px 15px;
        }
        #dbTypeSelectorPanel .list-item.db-type-item button:disabled {
            background: var(--card-background) !important; /* –ß—Ç–æ–±—ã –æ—Ç–ª–∏—á–∞–ª–∞—Å—å –æ—Ç –æ–±—ã—á–Ω–æ–π disabled */
            color: var(--light-text-color) !important;
            border: 1px solid var(--border-color);
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header-info">
            <div class="header-left">
                <span id="experienceDisplay">üåü –û–ø—ã—Ç: 0</span>
                <span id="levelDisplay">‚¨ÜÔ∏è –£—Ä–æ–≤–µ–Ω—å: 1 (0/100 XP)</span>
                <div class="progress-bar-container">
                    <div id="levelProgressBar" class="progress-bar"></div>
                </div>
                 <!-- –ù–û–í–û–ï: –ú–µ—Å—Ç–æ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π –°–£–ë–î -->
                <div id="currentDbDisplayContainer" style="margin-top: 10px;">
                    <span id="currentDbDisplay">–¢–µ–∫—É—â–∞—è –°–£–ë–î: –ó–∞–≥—Ä—É–∑–∫–∞...</span>
                    <!-- –ö–Ω–æ–ø–∫–∞ openDbSelectorButton –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–¥–µ—Å—å –∏–ª–∏ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –º–µ–Ω—é -->
                </div>
            </div>
            <div class="header-right">
                <span id="energyDisplay">‚ö°Ô∏è –≠–Ω–µ—Ä–≥–∏—è: 10/10</span>
            </div>
        </div>

        <p class="message" id="gameMessage">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∏–≥—Ä—É "–°–±–æ—Ä—â–∏–∫ SQL-—Ñ—É–Ω–∫—Ü–∏–π"! üöÄ</p>

        <div class="buttons-container" id="mainButtons">
            <button id="collectButton">–ò–∑—É—á–∏—Ç—å SQL-—Ñ—É–Ω–∫—Ü–∏—é üéì (1 ‚ö°Ô∏è)</button>
            <button id="viewCollectionButton" class="secondary-button">–ú–æ—è –∫–æ–ª–ª–µ–∫—Ü–∏—è üéí</button>
            <!-- –ù–û–í–û–ï: –ö–Ω–æ–ø–∫–∞ –¥–ª—è —Å–º–µ–Ω—ã/–≤—ã–±–æ—Ä–∞ –°–£–ë–î -->
            <button id="openDbSelectorButton" class="secondary-button">–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –°–£–ë–î üíª</button>
            <button id="shopButton" class="secondary-button">–ú–∞–≥–∞–∑–∏–Ω üí∞</button>
            <button id="dailyBonusButton" class="secondary-button">–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–æ–Ω—É—Å üéÅ</button>
            <button id="achievementsButton" class="secondary-button">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è üèÜ</button>
            <button id="statsButton" class="secondary-button">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ üìà</button>
            <button id="projectBoardButton" class="secondary-button">–î–æ—Å–∫–∞ –ü—Ä–æ–µ–∫—Ç–æ–≤ üìã</button>
            <button id="boostersButton" class="secondary-button">–ë—É—Å—Ç–µ—Ä—ã üöÄ</button>
            <button id="marketButton" class="secondary-button">–†—ã–Ω–æ–∫ üíé</button>
            <button id="historyButton" class="secondary-button">–ò—Å—Ç–æ—Ä–∏—è üìú</button>
            <button id="createButton" class="secondary-button">–°–æ–∑–¥–∞—Ç—å –∑–∞–ø—Ä–æ—Å üõ†Ô∏è</button>
        </div>

        <!-- –ü–∞–Ω–µ–ª—å –≤—ã–±–æ—Ä–∞ –°–£–ë–î (–ù–û–í–û–ï) -->
        <div id="dbTypeSelectorPanel" class="panel" style="display: none;">
            <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏–∑ JS -->
            <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –°–£–ë–î...</p>
        </div>

        <div id="collectionDisplay" class="panel" style="display: none;">
            <h3 id="collectionHeader">–ú–æ—è –∫–æ–ª–ª–µ–∫—Ü–∏—è SQL: (0/0)</h3>
            <div id="collectionList" class="list-grid">
                <p>–ü–æ–∫–∞ –Ω–∏—á–µ–≥–æ –Ω–µ—Ç...</p>
            </div>
            <button id="backFromCollection" class="secondary-button" style="margin-top: 20px;">–ù–∞–∑–∞–¥</button>
        </div>

        <div id="createPanel" class="panel" style="display: none;">
            <h3>–°–æ–∑–¥–∞–Ω–∏–µ SQL-–∑–∞–ø—Ä–æ—Å–∞:</h3>
            <div class="query-constructor-container">
                <div>
                    <h4>–°–ø–∏—Å–æ–∫ –ó–∞–¥–∞–Ω–∏–π:</h4>
                    <div id="createQueryTaskList" class="query-task-list">
                        <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–¥–∞–Ω–∏–π...</p>
                    </div>
                </div>
                <div id="createQueryTaskDescription">
                    <h4>–û–ø–∏—Å–∞–Ω–∏–µ –ó–∞–¥–∞–Ω–∏—è:</h4>
                    <p>–í—ã–±–µ—Ä–∏—Ç–µ –∑–∞–¥–∞–Ω–∏–µ –∏–∑ —Å–ø–∏—Å–∫–∞ –≤—ã—à–µ.</p>
                </div>
                <div>
                    <h4>–î–æ—Å—Ç—É–ø–Ω—ã–µ SQL-–æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –∏ –∑–Ω–∞—á–µ–Ω–∏—è:</h4>
                    <div id="createQueryAvailableFunctions">
                        <p>–í—ã–±–µ—Ä–∏—Ç–µ –∑–∞–¥–∞–Ω–∏–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã.</p>
                    </div>
                </div>
                 <div>
                    <h4>–û–±–ª–∞—Å—Ç—å –ö–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–Ω–∏—è –ó–∞–ø—Ä–æ—Å–∞: (–ö–ª–∏–∫–∞–π—Ç–µ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è)</h4>
                    <div id="createQueryConstructionArea"></div>
                </div>
                <button id="createQuerySubmitButton" class="secondary-button" disabled>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ó–∞–ø—Ä–æ—Å</button>
                <div id="createQueryCurrentTaskFeedback"></div>
            </div>
            <button id="backFromCreate" class="secondary-button" style="margin-top: 20px;">–ù–∞–∑–∞–¥</button>
        </div>

        <!-- ... (–æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞–Ω–µ–ª–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π) ... -->
        <div id="shopPanel" class="panel" style="display: none;">
            <h3>–ú–∞–≥–∞–∑–∏–Ω SQL-—Ñ—É–Ω–∫—Ü–∏–π:</h3>
            <div id="buyableItemsList" class="list-grid">
                <p>–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–±—Ä–∞–Ω—ã!</p>
            </div>
            <button id="backFromShop" class="secondary-button" style="margin-top: 20px;">–ù–∞–∑–∞–¥</button>
        </div>

        <div id="marketPanel" class="panel" style="display: none;">
            <h3>–†—ã–Ω–æ–∫ –†–µ–¥–∫–∏—Ö –§—É–Ω–∫—Ü–∏–π:</h3>
            <p style="font-size: 0.9em; color: var(--light-text-color);">–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –∫—É–ø–∏—Ç—å —Ä–µ–¥–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–ª–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –æ–±—ã—á–Ω—ã–º –ø–æ–∏—Å–∫–æ–º.</p>
            <div id="marketItemsList" class="list-grid">
                <p>–ù–∞ —Ä—ã–Ω–∫–µ –ø–æ–∫–∞ –Ω–µ—Ç —Ä–µ–¥–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π.</p>
            </div>
            <button id="backFromMarket" class="secondary-button" style="margin-top: 20px;">–ù–∞–∑–∞–¥</button>
        </div>

        <div id="dailyBonusPanel" class="panel" style="display: none;">
            <h3>–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–æ–Ω—É—Å! üéÅ</h3>
            <p id="dailyBonusMessage" style="font-size: 1em; margin-bottom: 15px;">–ó–∞–±–µ—Ä–∏—Ç–µ —Å–≤–æ–π –±–æ–Ω—É—Å!</p>
            <button id="claimDailyBonusButton">–ó–∞–±—Ä–∞—Ç—å –±–æ–Ω—É—Å (5 üåü)</button>
            <button id="backFromDailyBonus" class="secondary-button" style="margin-top: 10px;">–ù–∞–∑–∞–¥</button>
        </div>

        <div id="achievementsPanel" class="panel" style="display: none;">
            <h3>–í–∞—à–∏ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è üèÜ</h3>
            <div id="achievementsList">
            </div>
            <button id="backFromAchievements" class="secondary-button" style="margin-top: 20px;">–ù–∞–∑–∞–¥</button>
        </div>

        <div id="statsPanel" class="panel" style="display: none;">
            <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ üìà</h3>
            <p>–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏–∑—É—á–µ–Ω–æ: <strong id="statsUniqueCount">0</strong></p>
            <p>–í—Å–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–π –∏–∑—É—á–µ–Ω–æ (–≤–∫–ª—é—á–∞—è –¥—É–±–ª–∏–∫–∞—Ç—ã): <strong id="statsTotalCount">0</strong></p>
            <p>–û–ø—ã—Ç–∞ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–æ: <strong id="statsExperienceEarned">0</strong></p>
            <p>–§—É–Ω–∫—Ü–∏–π –ø—Ä–æ–¥–∞–Ω–æ: <strong id="statsPartsSold">0</strong></p>
            <p>–§—É–Ω–∫—Ü–∏–π –∫—É–ø–ª–µ–Ω–æ: <strong id="statsPartsBought">0</strong></p>
            <button id="backFromStats" class="secondary-button" style="margin-top: 20px;">–ù–∞–∑–∞–¥</button>
        </div>

        <div id="projectPanel" class="panel" style="display: none;">
            <h3>–î–æ—Å–∫–∞ –ü—Ä–æ–µ–∫—Ç–æ–≤ üìã</h3>
            <p style="font-size: 0.9em; color: var(--light-text-color); margin-bottom: 20px;">–í—ã–ø–æ–ª–Ω—è–π—Ç–µ –ø—Ä–æ–µ–∫—Ç—ã, —Å–æ–±–∏—Ä–∞—è –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ SQL-—Ñ—É–Ω–∫—Ü–∏–∏, —á—Ç–æ–±—ã –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å –±–æ–ª—å—à–∏–µ –Ω–∞–≥—Ä–∞–¥—ã!</p>
            <div id="projectList">
                <p>–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.</p>
            </div>
            <button id="backFromProjectBoard" class="secondary-button" style="margin-top: 20px;">–ù–∞–∑–∞–¥</button>
        </div>

        <div id="boostersPanel" class="panel" style="display: none;">
            <h3>–ë—É—Å—Ç–µ—Ä—ã –∏ –£–ª—É—á—à–µ–Ω–∏—è üöÄ</h3>
            <p style="font-size: 0.9em; color: var(--light-text-color); margin-bottom: 20px;">–£–ª—É—á—à–∏—Ç–µ —Å–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å! (–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±—É—Å—Ç–µ—Ä–æ–≤ 5 –º–∏–Ω—É—Ç)</p>
            <div id="boosterList">
            </div>
            <button id="backFromBoosters" class="secondary-button" style="margin-top: 20px;">–ù–∞–∑–∞–¥</button>
        </div>

        <div id="historyPanel" class="panel" style="display: none;">
            <h3>–ò—Å—Ç–æ—Ä–∏—è –î–µ–π—Å—Ç–≤–∏–π üìú</h3>
            <div id="historyLog">
                <p>–í–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è –¥–µ–π—Å—Ç–≤–∏–π –ø—É—Å—Ç–∞.</p>
            </div>
            <button id="backFromHistory" class="secondary-button" style="margin-top: 20px;">–ù–∞–∑–∞–¥</button>
        </div>


        <button id="resetGameButton" class="danger-button" style="margin-top: 30px;">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É –∑–∞–Ω–æ–≤–æ (—É–¥–∞–ª–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ) üí•</button>
    </div>

    <div id="partDetailModal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="closePartDetailModal">√ó</span>
            <h4 id="modalPartName">–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏</h4>
            <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> <span id="modalPartDescription"></span></p>
            <p><strong>–¢–∏–ø:</strong> <span id="modalPartType"></span></p>
            <p><strong>–ü—Ä–∏–º–µ—Ä:</strong></p>
            <pre><code id="modalPartExample"></code></pre>
            <p><strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏:</strong> <span id="modalPartCount"></span></p>
            <div class="modal-buttons">
                 <button id="modalSellButton" class="item-action-button sell-button" style="display:none;">–ü—Ä–æ–¥–∞—Ç—å (1 üåü)</button>
            </div>
        </div>
    </div>

    <div class="version-info">
        –í–µ—Ä—Å–∏—è: <span id="gameVersion">0.0.0</span>
    </div>

    <script src="game_data.js"></script>
    <script src="game_config.js"></script>
    <script src="script.js"></script>
</body>
</html>
